buildscript {
  repositories {
    mavenCentral()
  }
}

plugins {
  id 'org.unbroken-dome.xjc' version '1.4.1'
}

apply {
  plugin 'java'
  plugin 'application'
}

repositories {
  mavenCentral()
}

sourceCompatibility = 1.8

dependencies {
  compile 'org.apache.poi:poi:3.15-beta2'//word/ppt export
  compile 'org.apache.poi:poi-ooxml:3.15-beta2'//word/ppt export
  compile 'org.apache.poi:poi-scratchpad:3.15-beta2'  //word/ppt export
  compile 'com.lowagie:itext:2.1.3'  //pdf export
  compile 'commons-io:commons-io:2.5'
  compile 'com.googlecode.soundlibs:jlayer:1.0.1.4'
  compile 'com.mpatric:mp3agic:0.8.4'
  compile 'org.jfxtras:jfxtras-menu:8.0-r5'
  compile 'org.jsoup:jsoup:1.10.3' //html import
  compile 'org.reflections:reflections:0.9.11' //to find all exporter classes e.g.

  testCompile 'junit:junit:4.12'
  testCompile "org.testfx:testfx-core:4.0.15-alpha"
  testCompile "org.testfx:testfx-junit:4.0.15-alpha"
}

xjcGenerate {
  source = fileTree('src/main/schema') { include 'zef2005.xsd' }
}

mainClassName = 'org.adonai.ui.AdonaiApplication'


task install(type: Copy, dependsOn: distZip) {
  def zipFile = file('build/distributions/adonai.zip')
  def outputDir = file("/Users/OleyMa/programs/adonai")

  from zipTree(zipFile)
  into outputDir
}

tasks.compileJava.dependsOn tasks.xjcGenerate


